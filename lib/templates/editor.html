<!DOCTYPE html>
<html>
  <head>
    <title>{{.Title}}</title>
    <link rel="stylesheet" href="/lib/{{.Theme}}.css">
    <script src="/lib/scriptor.js" defer></script>
    <script>
      function SyncScroll() {
        var id1 = document.getElementById("preview-area");
        var id2 = document.getElementById("text-editor");
        var step = id1.scrollHeight / id2.scrollHeight;
        id1.scrollTop = id2.scrollTop * step;
      }
    </script>
  </head>
  <body style="height: 100%;">
    <table class="menu-table">
      <tbody>
          <tr>
              <td>
                <a href="/"><img style="padding: 0px;" width="16" height="16" src="../images/{{.Theme}}/home.png" alt="{{index .Translation "homeButton"}}" title="{{index .Translation "homeButton"}}"></a>
              </td>
              <td>|</td>
              <td>
                  {{index .Translation "user"}}: <a href="/settings">{{.UserName}}</a>
              </td>
              <td>
                  (
                  {{if eq .UserName "Guest"}}
                      <a href="/signin">{{index .Translation "login"}}</a> or <a href="/signup">{{index .Translation "register"}}</a>
                  {{else}}
                      <a href="/logout">{{index .Translation "logout"}}</a>
                  {{end}}
                  )
              </td>
              <td>
                <a href="/changetheme"><img style="padding: 0px;" width="16" height="16" src="../images/{{.Theme}}/day-night.png" alt="{{index .Translation "switchModeButton"}}" title="{{index .Translation "switchModeButton"}}"></a>
              </td>
          </tr>
      </tbody>
    </table>
  <hr>
  {{index .Translation "preview"}}:
  <div id="preview-area" style="height: 60%; overflow-y: hidden;">
    {{.MDArticle}}
  </div>
  <hr>
  <div id="edit-area">
    <div>
      <form enctype="multipart/form-data" action="/save" method="post" >
        <table class="editor-table" >
          <tbody>
              <tr>
                <td><button data-scriptor-btn value="# " htmltags="false" wrap="false" type="button">H1</button></td>
                <td><button data-scriptor-btn value="## " wrap="false" htmltags="false" type="button">H2</button></td>
                <td><button data-scriptor-btn value="### " htmltags="false" wrap="false" type="button">H3</button></td>
                <td><button data-scriptor-btn value="**" htmltags="false" wrap="True" type="button">Bold</button></td>
                <td><button data-scriptor-btn value="_" htmltags="false" wrap="True" type="button">Italic</button></td>
                <td><button data-scriptor-btn value="~~" htmltags="false" wrap="True" type="button"><s>TEXT</s></button></td>
                <td><button data-scriptor-btn value="~~~" htmltags="false" wrap="True" type="button">Code</button></td>
                <td><button data-scriptor-btn value="`" htmltags="false" wrap="True" type="button"><i>`code`</i></button></td>
                <td><button data-scriptor-btn value="> " htmltags="false" wrap="false" type="button">Quote</button></td>
                <td><button data-scriptor-btn value="* " htmltags="false" wrap="false" type="button">List</button></td>
                <td><button data-scriptor-btn value="0. " htmltags="false" wrap="false" type="button">1.</button></td> 
                <td><button data-scriptor-btn value="***" htmltags="false" insert="true" wrap="false" type="button">---</button></td> 
                <td><button data-scriptor-btn value="link" htmltags="false" wrap="true" type="button">Link</button></td> 
                <td><button data-scriptor-btn value="img" htmltags="false" insert="true" wrap="false" type="button">Img</button></td> 
                <td><input type="submit" align="right" value="{{index .Translation "save"}}" /></td> 
              </tr>
          </tbody>
        </table>
        <input hidden type="text" name="articlePath" value="{{.Path}}"/>
        <textarea id="text-editor" name="textEditArea" onscroll="SyncScroll()" spellcheck="false" cols="150" style="width: 100%; max-height: 25vh; height: 25vh; resize: none;">{{.Md}}</textarea>
      </form>
    </div>
    <hr>
    <tr>
        <td>
            <a href="https://github.com/lemjoe/Grapho" target="_blank"><img style="padding: 10px;" height="50" align="left" src="../images/{{.Theme}}/logo.png" alt="Grapho." title="Grapho."></a>
        </td>
        <td>
          <p>Â© 2024 | <a href="/licenses">{{index .Translation "licenseInformation"}}</a></p>
        </td>
    </tr>
  </div>
  </body>
</html>
