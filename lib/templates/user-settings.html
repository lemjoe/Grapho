<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/lib/{{.Theme}}.css">
    <title>{{.Title}}</title>
  </head>
  <body>
    <table class="menu-table">
      <tbody>
          <tr>
              <td>
                <a href="/"><img style="padding: 0px;" width="16" height="16" src="../images/{{.Theme}}/home.png" alt="{{index .Translation "homeButton"}}" title="{{index .Translation "homeButton"}}"></a>
              </td>
              <td>|</td>
              <td>
                  {{index .Translation "user"}}: <a href="/settings">{{.UserName}}</a>
              </td>
              <td>
                  (
                  {{if eq .UserName "Guest"}}
                      <a href="/signin">{{index .Translation "login"}}</a> or <a href="/signup">{{index .Translation "register"}}</a>
                  {{else}}
                      <a href="/logout">{{index .Translation "logout"}}</a>
                  {{end}}
                  )
              </td>
              <td>
                <a href="/changetheme"><img style="padding: 0px;" width="16" height="16" src="../images/{{.Theme}}/day-night.png" alt="{{index .Translation "switchModeButton"}}" title="{{index .Translation "switchModeButton"}}"></a>
              </td>
          </tr>
      </tbody>
    </table>
    <hr>
    <div>
      <h1>{{index .Translation "settings"}}</h1>
      <h2>{{index .Translation "security"}}</h2>
      <hr>
        <form enctype="multipart/form-data" action="/changepasswd" method="post">
            <b>{{index .Translation "currentPass"}}</b> <i> ({{index .Translation "mustContain"}})</i><br>
            <input type="password" size="40" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" name="old_password" /><br>
            <b>{{index .Translation "newPass"}}</b> <i> ({{index .Translation "mustContain"}})</i><br>
            <input type="password" size="40" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" name="new_password" /><br>
            <b>{{index .Translation "reNewPass"}}</b> <i> ({{index .Translation "mustContain"}})</i><br>
            <input type="password" size="40" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" name="r_new_password" /><br>
            <input type="submit" value="{{index .Translation "changePassButton"}}" />
        </form>
        <h2>{{index .Translation "misc"}}</h2>
        <hr>
        <form enctype="multipart/form-data" action="/changeusersettings" method="post">
          <b>{{index .Translation "language"}}</b>
          <select name="language">
            <option value="en" {{index .Settings "en"}}>English</option>
            <option value="ru" {{index .Settings "ru"}}>Русский</option>
          </select><br>
          <b>{{index .Translation "colorTheme"}}</b>
          <select name="theme">
            <option value="light" {{index .Settings "light"}}>Light</option>
            <option value="dark" {{index .Settings "dark"}}>Dark</option>
          </select><br>
          <input type="submit" value="{{index .Translation "changeSettingsButton"}}" />
      </form>
      {{if .AdminPanel}}
        <h2>{{index .Translation "adminPanel"}}</h2>
        <hr>
        <table>
          <tr>
            <td><b>{{index .Translation "managePortalUsers"}}</b>
            </td>
            <td><a href="/admin">GO</a>
            </td>
          </tr>
        </table>
      {{end}}
    </div>
    <div id="footer">
      <hr>
      <tr>
          <td>
              <a href="https://github.com/lemjoe/Grapho" target="_blank"><img style="padding: 10px;" height="50" align="left" src="../images/{{.Theme}}/logo.png" alt="Grapho." title="Grapho."></a>
          </td>
          <td>
            <p>© 2024 | <a href="/licenses">{{index .Translation "licenseInformation"}}</a></p>
          </td>
      </tr>
  </div>
  </body>
</html>